[gd_scene load_steps=43 format=2]

[ext_resource path="res://Player/Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Stages/Arena/Scripts/Camera.gd" type="Script" id=2]
[ext_resource path="res://Stages/Arena/Scripts/Arena.gd" type="Script" id=3]
[ext_resource path="res://Catch/Scenes/CatchNormal.tscn" type="PackedScene" id=4]
[ext_resource path="res://Stages/Arena/Scripts/GameStates.gd" type="Script" id=5]
[ext_resource path="res://Stages/Arena/Scripts/InitialGameState.gd" type="Script" id=6]
[ext_resource path="res://Stages/Arena/Scripts/NoteSpawner.gd" type="Script" id=7]
[ext_resource path="res://Stages/Arena/Scenes/Tutorial.tscn" type="PackedScene" id=8]
[ext_resource path="res://Stages/Arena/Assets/fence.png" type="Texture" id=9]
[ext_resource path="res://Stages/Arena/Scripts/NormalGameState.gd" type="Script" id=10]
[ext_resource path="res://Stages/Scenes/CameraTransiction.tscn" type="PackedScene" id=11]
[ext_resource path="res://Plants/Scenes/PatchOfPlants.tscn" type="PackedScene" id=12]

[sub_resource type="ConcavePolygonShape2D" id=1]
segments = PoolVector2Array( -81, -73, 80, -73, 81, 73, -81, 73, 81, -73, 81, 73, -81, 73, -81, -73 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=8]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=9]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=10]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=11]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=12]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=13]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=14]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=15]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=16]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=17]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=18]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=19]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=20]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=21]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=22]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=23]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=24]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=25]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=26]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=27]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=28]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="ConvexPolygonShape2D" id=29]
points = PoolVector2Array( 0, 0, 4, 0, 4, 4, 0, 4 )

[sub_resource type="TileSet" id=30]
0/name = "fence.png 0"
0/texture = ExtResource( 9 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 32, 32 )
0/tile_mode = 1
0/autotile/bitmask_mode = 1
0/autotile/bitmask_flags = [ Vector2( 0, 0 ), 176, Vector2( 0, 1 ), 146, Vector2( 0, 2 ), 146, Vector2( 0, 3 ), 146, Vector2( 0, 4 ), 146, Vector2( 0, 5 ), 146, Vector2( 0, 6 ), 146, Vector2( 0, 7 ), 50, Vector2( 1, 0 ), 56, Vector2( 1, 7 ), 56, Vector2( 2, 0 ), 56, Vector2( 2, 7 ), 56, Vector2( 3, 0 ), 56, Vector2( 3, 7 ), 56, Vector2( 4, 0 ), 56, Vector2( 4, 7 ), 56, Vector2( 5, 0 ), 56, Vector2( 5, 7 ), 56, Vector2( 6, 0 ), 56, Vector2( 6, 7 ), 56, Vector2( 7, 0 ), 152, Vector2( 7, 1 ), 146, Vector2( 7, 2 ), 146, Vector2( 7, 3 ), 146, Vector2( 7, 4 ), 146, Vector2( 7, 5 ), 146, Vector2( 7, 6 ), 146, Vector2( 7, 7 ), 26 ]
0/autotile/icon_coordinate = Vector2( 0, 0 )
0/autotile/tile_size = Vector2( 4, 4 )
0/autotile/spacing = 0
0/autotile/occluder_map = [  ]
0/autotile/navpoly_map = [  ]
0/autotile/priority_map = [  ]
0/autotile/z_index_map = [  ]
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 2 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 4, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 5, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 8 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 9 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 10 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 11 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 12 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 4 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 13 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 5 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 14 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 6 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 15 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 7, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 16 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 6, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 17 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 5, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 18 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 4, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 19 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 3, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 20 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 2, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 21 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 1, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 22 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 7 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 23 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 6 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 24 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 5 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 25 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 4 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 26 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 3 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 27 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 2 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 28 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
}, {
"autotile_coord": Vector2( 0, 1 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 29 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0

[node name="Arena" type="Node2D"]
script = ExtResource( 3 )

[node name="Boundaries" type="Node2D" parent="."]

[node name="Walls" type="StaticBody2D" parent="Boundaries"]
collision_mask = 0
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boundaries/Walls"]
position = Vector2( 80, 72 )
shape = SubResource( 1 )

[node name="TileMap" type="TileMap" parent="Boundaries"]
tile_set = SubResource( 30 )
cell_size = Vector2( 4, 4 )
format = 1
tile_data = PoolIntArray( -1, 0, 0, -65536, 0, 458755, -65535, 0, 1, -65534, 0, 1, -65533, 0, 6, -65532, 0, 458757, -65531, 0, 458756, -65530, 0, 5, -65529, 0, 6, -65528, 0, 5, -65527, 0, 458755, -65526, 0, 458753, -65525, 0, 5, -65524, 0, 458753, -65523, 0, 5, -65522, 0, 3, -65521, 0, 6, -65520, 0, 458755, -65519, 0, 458753, -65518, 0, 1, -65517, 0, 458753, -65516, 0, 2, -65515, 0, 4, -65514, 0, 5, -65513, 0, 458753, -65512, 0, 5, -65511, 0, 458756, -65510, 0, 458753, -65509, 0, 4, -65508, 0, 458757, -65507, 0, 1, -65506, 0, 4, -65505, 0, 4, -65504, 0, 4, -65503, 0, 5, -65502, 0, 5, -65501, 0, 5, -65500, 0, 4, -65499, 0, 458753, -65498, 0, 458758, -65497, 0, 458758, -65496, 0, 7, 65535, 0, 327687, 40, 0, 327687, 131071, 0, 393223, 65576, 0, 196615, 196607, 0, 65543, 131112, 0, 131072, 262143, 0, 393216, 196648, 0, 131072, 327679, 0, 393223, 262184, 0, 131072, 393215, 0, 393216, 327720, 0, 327687, 458751, 0, 131072, 393256, 0, 327680, 524287, 0, 327687, 458792, 0, 393223, 589823, 0, 196608, 524328, 0, 327687, 655359, 0, 393216, 589864, 0, 131079, 720895, 0, 196608, 655400, 0, 327687, 786431, 0, 393216, 720936, 0, 196608, 851967, 0, 327680, 786472, 0, 131079, 917503, 0, 196615, 852008, 0, 196608, 983039, 0, 393216, 917544, 0, 196608, 1048575, 0, 262144, 983080, 0, 65536, 1114111, 0, 262144, 1048616, 0, 196615, 1179647, 0, 262144, 1114152, 0, 393216, 1245183, 0, 196608, 1179688, 0, 393223, 1310719, 0, 327687, 1245224, 0, 393223, 1376255, 0, 65543, 1310760, 0, 131079, 1441791, 0, 393223, 1376296, 0, 393223, 1507327, 0, 327687, 1441832, 0, 393216, 1572863, 0, 196608, 1507368, 0, 196615, 1638399, 0, 262151, 1572904, 0, 262151, 1703935, 0, 262144, 1638440, 0, 196615, 1769471, 0, 65536, 1703976, 0, 65536, 1835007, 0, 196615, 1769512, 0, 65536, 1900543, 0, 196608, 1835048, 0, 196608, 1966079, 0, 131072, 1900584, 0, 393223, 2031615, 0, 131072, 1966120, 0, 393216, 2097151, 0, 131072, 2031656, 0, 131072, 2162687, 0, 393223, 2097192, 0, 393223, 2228223, 0, 393216, 2162728, 0, 393216, 2293759, 0, 196608, 2228264, 0, 196608, 2359295, 0, 262144, 2293800, 0, 65543, 2424831, 0, 458752, 2359296, 0, 458754, 2359297, 0, 458757, 2359298, 0, 458758, 2359299, 0, 2, 2359300, 0, 4, 2359301, 0, 458756, 2359302, 0, 2, 2359303, 0, 458758, 2359304, 0, 458756, 2359305, 0, 458758, 2359306, 0, 458758, 2359307, 0, 4, 2359308, 0, 458758, 2359309, 0, 6, 2359310, 0, 458754, 2359311, 0, 2, 2359312, 0, 458755, 2359313, 0, 2, 2359314, 0, 458754, 2359315, 0, 2, 2359316, 0, 1, 2359317, 0, 458755, 2359318, 0, 4, 2359319, 0, 458756, 2359320, 0, 458755, 2359321, 0, 458753, 2359322, 0, 458755, 2359323, 0, 4, 2359324, 0, 458757, 2359325, 0, 1, 2359326, 0, 3, 2359327, 0, 458754, 2359328, 0, 458756, 2359329, 0, 458757, 2359330, 0, 1, 2359331, 0, 6, 2359332, 0, 5, 2359333, 0, 458758, 2359334, 0, 3, 2359335, 0, 6, 2359336, 0, 458759 )

[node name="GrassContainer" type="Node2D" parent="."]

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 30, 51 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Notes" type="Node2D" parent="."]

[node name="GameStates" type="Node" parent="."]
script = ExtResource( 5 )
starting_state_index = 1

[node name="InitialGameState" type="Node" parent="GameStates"]
script = ExtResource( 6 )
camera_path = NodePath("Camera")

[node name="Position2D" type="Position2D" parent="GameStates/InitialGameState"]
position = Vector2( 80, 72 )

[node name="Tutorial" parent="GameStates/InitialGameState" instance=ExtResource( 8 )]

[node name="Camera" type="Camera2D" parent="GameStates/InitialGameState"]
position = Vector2( 80, 72 )
rotating = true
current = true
zoom = Vector2( 1.1, 1.1 )
script = ExtResource( 2 )
maxOffSet = 12
maxAngle = 18
powerTraumaTo = 2

[node name="NormalGameState" type="Node" parent="GameStates"]
script = ExtResource( 10 )
state_index = 1
camera_path = NodePath("Camera")

[node name="Camera" type="Camera2D" parent="GameStates/NormalGameState"]
position = Vector2( 80, 72 )
rotating = true
zoom = Vector2( 1.5, 1.5 )
script = ExtResource( 2 )
maxOffSet = 12
maxAngle = 18
powerTraumaTo = 2

[node name="CameraTransiction" parent="GameStates/NormalGameState" instance=ExtResource( 11 )]
default_current_camera = NodePath("../../InitialGameState/Camera")
default_target_camera = NodePath("../Camera")
default_ease_out = 1

[node name="Spawner" type="Node2D" parent="."]
script = ExtResource( 7 )
note = ExtResource( 4 )
patch = ExtResource( 12 )
center_arena_path = NodePath("../Center")
width = 162
height = 146

[node name="Center" type="Position2D" parent="."]
position = Vector2( 80, 72 )

[connection signal="collision" from="Player" to="." method="_on_Player_collision"]
[connection signal="new_fence" from="Player" to="." method="_on_Player_new_fence"]
[connection signal="spawn_pin" from="Player" to="." method="_on_Player_spawn_pin"]
[connection signal="finished" from="GameStates/NormalGameState/CameraTransiction" to="GameStates/NormalGameState" method="_on_CameraTransiction_finished"]
